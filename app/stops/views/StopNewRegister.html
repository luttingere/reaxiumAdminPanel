<spinner name="spinnerNew" ng-cloak="">
    <div class="overlay"></div>
    <div class="spinner">
        <div class="test"><i class="fa fa-refresh fa-spin fa-5x"></i></div>
    </div>
    <div class="please-wait">Please Wait...</div>
</spinner>

<div class="skin-blue sidebar-mini">

    <div class="wrapper" ng-controller="StopNewCtrl">

        <!--header-->
        <div ui-view="header"></div>

        <!--menu-->
        <div ui-view="menu"></div>

        <div class="content-wrapper">
            <div growl></div>
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    Register Stops
                    <small>Control panel</small>
                </h1>
                <ol class="breadcrumb">
                    <li><a ui-sref="home"><i class="fa fa-dashboard"></i>Home</a></li>
                    <li><a ui-sref="stops">Stops Dashboard</a></li>
                    <li class="active">Register New Stop</li>
                </ol>
            </section>

            <section class="content" style="min-height:525px;">

                <div class="row">
                    <div class="content">
                        <!--box Address-->
                        <div class="col-md-12">
                            <div class="box box-primary box-solid">
                                <div class="box-header bg-light-blue-active with-border">
                                    <h3 class="box-title">Stops Address</h3>

                                    <div class="box-tools pull-right">
                                        <button class="btn btn-box-tool" data-widget="collapse"><i
                                                class="fa fa-plus"></i></button>
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <div class="input-group-addon">
                                                <i class="fa fa-map-marker"></i>
                                            </div>
                                            <label class="form-control"></label>

                                            <div id="searchBoxParent"></div>
                                        </div><!-- /.input group -->
                                    </div>
                                    <div id="googleMapDiv">
                                        <ui-gmap-google-map center='map.center' zoom='map.zoom' options="map.options" events="map.events">

                                            <ui-gmap-marker ng-repeat="m in map.markers" coords="m.coords" icon="m.icon" idkey="m.id" options="m.options" click="onClick(m)">
                                                <ui-gmap-window options="m.windowOptions" closeClick="closeClick(m)">
                                                    <div ng-controller="infoWindowCtrl">
                                                        <span>{{m.title}}&nbsp;</span>
                                                        <button ng-click="showInfo()">Delete</button></div>
                                                </ui-gmap-window>
                                            </ui-gmap-marker>

                                            <ui-gmap-search-box template="searchbox.template"
                                                                events="searchbox.events"
                                                                parentdiv="searchbox.parentdiv"></ui-gmap-search-box>
                                        </ui-gmap-google-map>
                                    </div>
                                </div>
                                <div class="box-footer text-center ">
                                    <button class="btn btn-success" ng-click="addTableStops()">Process</button>
                                    <button class="btn btn-danger" ng-click="cleanAllStops()">Clean</button>
                                </div>
                            </div><!-- /.box-body -->
                        </div>  <!--End box Address-->
                    </div>
                </div>

                <div class="row" ng-show="showTable">
                    <div class="col-lg-12">
                        <div class="content" style="min-height: 0px;">
                            <div class="box box-primary box-solid">
                                <div class="box-header bg-light-blue-active with-border">

                                    <h3 class="box-title">Your selection of stops</h3>

                                    <div class="box-tools pull-right">
                                        <a class="btn btn-box-tool" ng-click="editTableStops()"
                                           data-toggle="tooltip" title="Edit Stops">
                                            <small><i class="fa fa-fw fa-pencil"></i></small>
                                        </a>
                                    </div><!-- /.box-tools -->
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <table id="stopsTable" class="table table-bordered table-striped">
                                        <thead>
                                        <tr>
                                            <th>Number Stop</th>
                                            <th>Name Stop</th>
                                            <th>Stops Address</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="stop in listProcessStops">
                                            <td id="stopNumber_{{stop.id_stop}}">{{stop.stop_number}}</td>
                                            <td id="stopName_{{stop.id_stop}}">{{stop.stop_name}}</td>
                                            <td id="stopAddres_{{stop.id_stop}}" style="text-align: center">{{stop.stop_address}}</td>
                                            <td id="stopLtd_{{stop.id_stop}}" ng-show="false">{{stop.stop_latitude}}</td>
                                            <td id="stopLog_{{stop.id_stop}}" ng-show="false">{{stop.stop_longitude}}</td>
                                        </tr>
                                        </tbody>
                                        </tfoot>
                                    </table>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->
                        </div>
                    </div>
                </div>

                <div class="row" ng-show="showTable">
                    <div class="content" style="min-height: 0px;">
                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            <button class="btn btn-block btn-primary btn-md"
                                    ng-click="saveStops()">Save
                            </button>
                            <br/>
                        </div>
                        <div class="col-md-4"></div>
                    </div>
                    <br/>
                </div>
            </section>
        </div>

        <!--footer-->
        <div ui-view="footer"></div>

    </div>

</div>